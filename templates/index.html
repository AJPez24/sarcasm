<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Sarcasm Detector</title>
<style>
    body { font-family: Arial; max-width: 600px; margin: 40px auto; }
    textarea { width: 100%; height: 100px; }
    button { margin-top: 10px; padding: 8px 16px; }
    #result { margin-top: 20px; font-size: 1.1rem; }
</style>
</head>
<body>
<h1>Sarcasm Detector</h1>

<textarea id="input-text" placeholder="Type your sentence..."></textarea><br/>
<button id="predict-btn">Check sarcasm</button>

<div id="result"></div>

<script>
const btn = document.getElementById("predict-btn");
const input = document.getElementById("input-text");
const resultDiv = document.getElementById("result");

btn.addEventListener("click", async () => {
    const text = input.value;
    if (!text.trim()) {
        resultDiv.textContent = "Please type something.";
        return;
    }
    resultDiv.textContent = "Thinking...";

    const res = await fetch("/predict", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text })
    });

    const data = await res.json();
    if (!res.ok) {
        resultDiv.textContent = data.error || "Server error.";
        return;
    }

    const label = data.label;
    const prob = (data.probability * 100).toFixed(1);

    resultDiv.textContent = `Prediction: ${label.toUpperCase()} (${prob}% confidence)`;
});
</script>
</body>
</html>
